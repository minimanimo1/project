<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<style>
    .left{
        grid-column: 1/3;
    }
    .center {

        grid-column: 2 / 3; /* spans the second column */
    }
    .right {
        grid-column: 3/ 3; /* spans the third column */
    }
    .grid-container {
        display: grid;
        grid-template-columns: 20% 55% 25%; /* sets the width of each column */
    }
</style>
<head>

    <title>Title</title>
</head>
<body>

<div class="grid-container">
    <div class="left"></div>
    <div class="center">
        <div style="height: 50px;"></div>

        <div style="display:flex; align-items: center; justify-content: center; width: 100%; height: 100%;">
            <form th:action="@{'/questions/new/edit/'+${asks.no}}" method="post" style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 50%; height: 50%;">
                <div style="margin: 10px;">
                    <input type="text" id="title" name="title" th:placeholder="${asks.title}" style="width: 100%; height: 30px; font-size: 18px;">
                </div>
                <div class="answer-box">
                    <div id="answer-btn-bar" class="btn-group">
                        <ul id="answer-btn-row" class="answer-btn-row">
                            <button type="button" class="up-button" id="bold-button" title="Strong <strong> Ctrl+B">
                                <span style="background-position: 0px 0px;">B</span></button>
                            <button type="button" class="up-button" id="italic-button" title="Emphasis <em> Ctrl+I">
                                <span style="background-position: -20px 0px;">I</span></button>
                            <button type="button" class="up-button" id="link-button" title="Hyperlink <a> Ctrl+L">
                                <span style="background-position: -40px 0px;">L</span></button>
                            <button type="button" class="up-button" id="quote-button" title="Blockquote <blockquote> Ctrl+Q">
                                <span style="background-position: -60px 0px;">"</span>
                            </button>
                            <button type="button" class="up-button" id="code-button" title="Code Sample <pre><code> Ctrl+K">
                                <span style="background-position: -80px 0px;">{}</span>
                            </button>

                            <button type="button" class="up-button" id="image-button" title="Image <img> Ctrl+G">
                                <span style="background-position: -100px 0px;">image</span>
                            </button>

                            <button type="button" class="up-button" id="snippet-button" title="JavaScript/HTML/CSS snippet Ctrl-M">
                                <span>snippet</span>
                            </button>

                        </ul>

                    </div>
                    <div style="margin: 10px; text-align: center; justify-content: center">
                        <label for="wmd-input" style="font-size: 20px;">내용</label>
                        <textarea id="wmd-input" name="contents" th:placeholder="${asks.contents}" style="width: 200%; height: 200px; font-size: 18px;"></textarea>
                    </div>
                    <div style="margin: 10px;">
                        <label for="tags" style="font-size: 18px;">태그</label>
                        <select id="tags" name="tags" style="width: 100%; height: 30px; font-size: 18px;">
                            <option value="C">C</option>
                            <option value="Network">Network</option>
                            <option value="Web">Web</option>
                            <option value="Reversing">Reversing</option>
                            <option value="Pawnable">Pawnable</option>
                            <option value="Crypto">Crypto</option>
                            <option value="Misc">Misc</option>
                        </select>
                    </div>
                </div>
                <button type="submit" id="write" style="width: 50%; height: 30px; font-size: 18px;">수정</button>
            </form>
        </div>
    </div>
    <div class="right"></div>
</div>
</body>
<script>
    let markdownText = document.getElementById("wmd-input").value;

    function marked(markdownText) {
        return "";
    }

    document.getElementById("wmd-input").innerHTML = marked(markdownText);
    document.getElementById("bold-button").addEventListener("click", function(){
        const editor = document.getElementById("wmd-input");
        const selectedText = editor.value.substring(editor.selectionStart, editor.selectionEnd);
        const newText = "**bold" + selectedText + "**";
        editor.value = editor.value.substring(0, editor.selectionStart) + newText + editor.value.substring(editor.selectionEnd);
    });
    document.getElementById("italic-button").addEventListener("click", function(){
        const editor = document.getElementById("wmd-input");
        const selectedText = editor.value.substring(editor.selectionStart, editor.selectionEnd);
        const newText = "*italic" + selectedText + "*";
        editor.value = editor.value.substring(0, editor.selectionStart) + newText + editor.value.substring(editor.selectionEnd);
    });
    document.getElementById("link-button").addEventListener("click", function(){
        let link = prompt("Enter the link here: ", "http://");
        document.execCommand("createLink", false, link);
    });
    document.getElementById("quote-button").addEventListener("click", function(){
        const editor = document.getElementById("wmd-input");
        const selectedText = editor.value.substring(editor.selectionStart, editor.selectionEnd);
        const newText = ">blockquotes" + selectedText;
        editor.value = editor.value.substring(0, editor.selectionStart) + newText + editor.value.substring(editor.selectionEnd);
    });
    document.getElementById("image-button").addEventListener("click", function() {
        const editor = document.getElementById("wmd-input");
        const imul = prompt("Enter the image URL: ");
        const newText = "![image](" + imul + ")";
        editor.value = editor.value.substring(0, editor.selectionStart) + newText + editor.value.substring(editor.selectionEnd);
    });
    document.getElementById("code-button").addEventListener("click", function() {
        const editor = document.getElementById("wmd-input");
        const selectedText = editor.value.substring(editor.selectionStart, editor.selectionEnd);
        const newText = "` <code> " + selectedText + "`";
        editor.value = editor.value.substring(0, editor.selectionStart) + newText + editor.value.substring(editor.selectionEnd);
    });

    document.getElementById("write").addEventListener("submit", function(event) {
        event.preventDefault();
        let markdownText = document.getElementById("wmd-input").value;

        function marked(markdownText) {
            return "";
        }

        document.getElementById("wmd-input").innerHTML = marked(markdownText);
        // form submit
        this.submit();
    });


</script>
</html>